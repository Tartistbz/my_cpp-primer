# 第一章 开始
## 练习1.1
查阅你使用的编译器的文档，确定它所使用的文件名约定。编译并运行第2页的main程序。
解：这里我没有用书上程序，主要是尝试gcc编译器编译
mycode:
```cpp
#include <iostream>
int main(){
std::cout<<"hello"<<std::endl;
return 0;
}
```
gcc编译器：
```bash
gcc -o main ch1.cpp
```
还有一种方式
```bash
g++ --std=c++11 ch1.cpp -o main
```
**-o**后指定输出文件名，上述语句执行后会输出main,运行
```bash
./main
```
则会输出结果
其中**--std=c++11**指定了使用的cpp标准
## 练习1.2
改写程序，让它返回-1。返回值-1通常被当做程序错误的标识。重新编译并运行你的程序，观察你的系统如何处理main返回的错误标识。
解：这里就要用书上代码了
code:
```cpp
int main(){
	return -1;
}
```
而后按照1.1流程输出ch12文件，运行./ch12没有反应（ubuntu)，之后输入
```bash
echo &?
```
显示255
## 练习1.3

编写程序，在标准输出上打印Hello, World。
解：
```cpp
#include<iostream>
int main() {
    std::cout << "Hello, World!" << std::endl;
    return 0;
}
```
## 练习1.4
我们的程序使用加法运算符`+`来将两个数相加。编写程序使用乘法运算符`*`，来打印两个数的积。
解：
```cpp
#include <iostream>
int main(){
        int a=0,b=0;
        std::cout<<"Enter two Number:"<<std::endl;
        std::cin>>a>>b;
        std::cout<<"a*b="<<a*b<<std::endl;
}
```
## 练习1.5

我们将所有的输出操作放在一条很长的语句中，重写程序，将每个运算对象的打印操作放在一条独立的语句中。
解：
```cpp
#include <iostream>
int main(){
        int a=0,b=0;
        std::cout<<"Enter two Number:"<<std::endl;
        std::cin>>a>>b;
        std::cout<<"a*b=";
        std::cout<<a*b;
        std::cout<<std::endl;
}
```
## 练习1.6

解释下面程序片段是否合法。

```cpp
std::cout << "The sum of " << v1;
          << " and " << v2;
          << " is " << v1 + v2 << std::endl;
```

如果程序是合法的，它的输出是什么？如果程序不合法，原因何在？应该如何修正？
解：不合法，分号多了或者cout少了
```cpp
std::cout << "The sum of " << v1<< " and " << v2<< " is " << v1 + v2 <<std::endl;
```
## 练习1.7

编译一个包含不正确的嵌套注释的程序，观察编译器返回的错误信息。
解：
```cpp
#include <iostream>
int main() {
        std::cout<<"注释测试"<<std::endl;/*hahah0/*erro*/*/

}
```
错误信息：
```bash
myubuntu@myubuntu:~/work/note/mycpp/cpp_source/ch1$ g++ -o ch17 ch17.cpp 
ch17.cpp: In function ‘int main()’:
ch17.cpp:3:56: error: expected primary-expression before ‘/’ token
    3 |  std::cout<<"注释测试"<<std::endl;/*hahah0/*erro*/*/
      |                                                        ^
ch17.cpp:5:1: error: expected primary-expression before ‘}’ token
    5 | }
      | ^
```
## 练习1.8

指出下列哪些输出语句是合法的（如果有的话）：

```cpp
std::cout << "/*";
std::cout << "*/";
std::cout << /* "*/" */;
std::cout << /* "*/" /* "/*" */;
```

预测编译这些语句会产生什么样的结果，实际编译这些语句来验证你的答案(编写一个小程序，每次将上述一条语句作为其主体)，改正每个编译错误。
解：除了第三句都合法，其余语句输出依次为：
```bash
/*
*/
/*
```
## 练习1.9

编写程序，使用`while`循环将50到100整数相加。
解：
```cpp
#include <iostream>
int main(){
        int i=50,sum=0;
        while(i<=100){
                sum+=i;
                i++;
        }
        std::cout<<sum<<std::endl;
}
```
## 练习1.10

除了`++`运算符将运算对象的值增加1之外，还有一个递减运算符`--`实现将值减少1.编写程序，使用递减运算符在循环中按递减顺序打印出10到0之间的整数。
解：
```cpp
#include <iostream>
int main(){
        int i=10;
        while(i>=0){
                std::cout<<i<<std::endl;
                i--;
        }
}
```
## 练习1.11

编写程序，提示用户输入两个整数，打印出这两个整数所指定的范围内的所有整数。
解：
```cpp
#include <iostream>
sint main() {
        int a=0,b=0;
        std::cout<<"Enter two Number:"<<std::endl;
        std::cin>>a>>b;
        while(a>b){
                int temp = 0;
                temp = a;
                a = b;
                b = temp;
        }
        while(a<=b){
        std::cout<<a<<std::endl;
        a++;
        }
}
```
## 练习1.14
对比for循环和while循环，两种形式的优缺点各是什么
解：

| 比较维度           | `for` 循环                                      | `while` 循环                                    |
|--------------------|------------------------------------------------|------------------------------------------------|
| **结构简洁性**     | 一行写完初始化、条件、更新，适合**固定循环次数** | 条件和更新分离，代码更松散，适合**不确定次数** |
| **使用场景**       | 更适合迭代次数已知的场景，如遍历数组、计数器等 | 更适合事件驱动或条件判断类循环，如用户输入验证 |
| **可读性**         | 对于计数型循环更直观                            | 对于逻辑驱动更清晰                              |
| **灵活性**         | 结构较紧凑，灵活性略低                          | 可以更灵活地控制初始化/更新的时机              |
| **容易出错的地方** | 若逻辑太复杂，容易忽视更新/条件判断             | 容易忘记写更新语句，导致死循环                 |


## 练习1.16
编写程序，从cin读取一组数，输出其和。
解：
``` cpp
#include <iostream>
int main(){
    int sum=0;
    for(int value=0;std::cin>>value;)
        sum+=value;
    std::cout<<sum;
    return 0;
}
```

## 练习1.20
在网站http://www.informit.com/title/032174113 上，第1章的代码目录包含了头文件 Sales_item.h。将它拷贝到你自己的工作目录中。用它编写一个程序，读取一组书籍销售记录，将每条记录打印到标准输出上。
解：
``` cpp
#include <iostream>
#include "../Sales_item.hpp"
int main(){
    
    for(Sales_item item;std::cin>>item;std::cout<<item<<std::endl);

}
```
## 练习1.21
编写程序，读取两个 ISBN 相同的 Sales_item 对象，输出他们的和。
解：
``` cpp
#include <iostream>
#include "../Sales_item.hpp"
int main(){
    Sales_item item1,item2;
    std::cin>>item1;
    std::cin>>item2;
    std::cout<<"sum of item:"<<item1+item2<<std::endl;
    return 0;
}
```

## 练习1.22
编写程序，读取多个具有相同 ISBN 的销售记录，输出所有记录的和。
解：
``` cpp
#include <iostream>
#include "../Sales_item.hpp"
int main(){
    Sales_item sum_item;
    std::cin>>sum_item;
    for(Sales_item item;std::cin>>item;){
        sum_item+=item;
    }
    std::cout <<  sum_item << std::endl;
    return 0;
}
```
## 练习1.23
编写程序，读取多条销售记录，并统计每个 ISBN（每本书）有几条销售记录。
解：
```cpp
#include <iostream>
#include "../Sales_item.hpp"
int main(){
    Sales_item item_a;
    if(std::cin>>item_a){
        int cnt=1;
        Sales_item item_b;
        while (std::cin>>item_b)
        {
            if(item_a.isbn()==item_b.isbn()){
                ++cnt;
            }else{
                std::cout<<item_a.isbn()<<"times:"<<cnt<<std::endl;
                cnt=1;
                item_a = item_b;
            }
        }
        std::cout<<item_a.isbn()<<"times:"<<cnt<<std::endl;
    }
    else {
        std::cerr << "No data?!" << std::endl;
        return -1;
    }   
    return 0;
}
```
**这里存在一个问题:**本书给出的数据，该题(book_sales)以及前期的数字计数，都为相同且连续，所以市面上的答案和上方答案都类似，只考虑到了相同且连续的情况，因为进行到该章节，并未学习map,array,vector等容器或数组，所以无法实现非连续相同计数，以下是使用map实现的非连续相同计数代码，仅供参考。

``` cpp
#include <iostream>
#include "../Sales_item.hpp"
#include <map>
int main(){
    Sales_item item;
    std::map<std::string,int> sales_count; 
    while (std::cin>>item)
    {
        sales_count[item.isbn()]++;
    }
    for(const auto & entry : sales_count){
        std::cout << "ISBN: " << entry.first << " has " << entry.second << " sales." << std::endl;
    }
    return 0;
}
```
intput&output:
``` shell
0-201-70353-X 4 24.99
0-201-82470-1 4 45.39
0-201-88954-4 2 15.00
0-201-88954-4 5 12.00
0-201-88954-4 2 12.00 
0-399-82477-1 2 45.39
0-399-82477-1 3 45.39
0-201-78345-X 3 20.00
0-201-78345-X 2 25.00
0-201-88954-4 7 12.00
^Z
ISBN: 0-201-70353-X has 1 sales.
ISBN: 0-201-78345-X has 2 sales.
ISBN: 0-201-82470-1 has 1 sales.
ISBN: 0-201-88954-4 has 4 sales.
ISBN: 0-399-82477-1 has 2 sales.
```
## 练习1.24
输入表示多个 ISBN 的多条销售记录来测试上一个程序，每个 ISBN 的记录应该聚在一起。
解：(这里也使用了之前的map方法)
``` cpp
#include <iostream>
#include "../Sales_item.hpp"
#include <map>
int main(){
    Sales_item item;
    std::map<std::string,Sales_item> item_count; 
    while (std::cin>>item)
    {
        item_count[item.isbn()]+= item;
    }
    for(const auto & entry : item_count){
        std::cout  <<entry.first<< entry.second << std::endl;
    }
    return 0;
}
```